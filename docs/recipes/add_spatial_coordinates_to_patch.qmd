---
title: Add spatial coordinates to patch
execute:
  warning: false
---

Sometimes we have spatial coordinates that we want to attach to channels/distance dimension. This is an example that does exactly that. The functionality is not limited to spatial coordinates; it can be used to add any coordinates to any existing dimension.

Here, we
- make a patch and coordinates from example data
- Call a command that adds the coordinates
- Plot coordinates for comparison


```{python}
#| code-fold: true
import numpy as np
import pandas as pd

import dascore as dc
from dascore.utils.downloader import fetch


# get path for example coordinates
path = fetch("brady_hs_DAS_DTS_coords.csv")

# read coordinates data from csv file
coord_table = pd.read_csv(path)

# Make patch from example
patch = dc.get_example_patch()

# get length of distance axis
dist_len = patch.coord_shapes["distance"][0]

# make a dictionary of units
units = {a:"m" for a in coord_table.columns[1:]}

# select portion of new coordinates to map to existing coordinate
new_coordinates = coord_table.iloc[51:]

```


```{python}
# add coordinates to patch
patch = dc.coords_from_df(patch, new_coordinates, units=units,extrapolate=True)

# plot coordinates
coords = patch.coords
X = coords.get_array('X')
Y = coords.get_array('Y')
plt.scatter(X,Y)

```
