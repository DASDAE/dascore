name: "prepare for doc build"
description: "Installs quarto, renders api docs, prints quarto version"

runs:
  using: "composite"
  steps:
    - name: Install quarto
      uses: quarto-dev/quarto-actions/setup@v2
      with:
        version: 1.3.450
        tinytex: true

    - name: print quarto version
      shell: bash -l {0}
      run: |
        quarto --version

    - name: render API docs
      shell: bash -l {0}
      run: |
        python scripts/build_api_docs.py
